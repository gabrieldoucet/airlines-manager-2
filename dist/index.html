<!DOCTYPE html>
<html lang="en" ng-app="am2App">
<head>
  <meta charset="UTF-8">
  <title>AM2 App - MDL</title>
  <link rel='icon' href='favicon.ico' type="image/x-icon">

  <!-- Material Design Lite -->
  <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.teal-pink.min.css"/>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="./stylesheets/style.css"/>
  <script src="./js/main.js"></script>
</head>
<body ng-controller="mockupController">
<div class="mdl-layout mdl-js-layout">
  <header class="mdl-layout__header mdl-layout__header--scroll">
    <div class="mdl-layout__header-row">
      <!-- Title -->
      <span class="mdl-layout-title">AM2 App</span>

      <!-- Add spacer, to align navigation to the right -->
      <div class="mdl-layout-spacer"></div>

      <!-- Navigation -->
      <nav class="mdl-navigation">
        <button id="actions1" class="mdl-button mdl-js-button mdl-js-ripple-effect">
          Ajouter
        </button>

        <ul class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect"
            for="actions1">
          <li class="mdl-menu__item">Ajouter avion</li>
          <li class="mdl-menu__item mdl-menu__item--full-bleed-divider">Ajouter ligne</li>
        </ul>
      </nav>
    </div>
  </header>
  <main class="mdl-layout__content">
    <div class="page-content">
      <!-- First row -->
      <div class="mdl-grid">
        <div class="mdl-cell--3-col">
          <h4>
            <span>Choisir la ligne</span>
            <button id="menu-lines" class="mdl-button mdl-js-button--raised">
              <span ng-if="selects.selectedLine">{{selects.selectedLine.from}} - {{selects.selectedLine.to}}</span>
              <span ng-if="!selects.selectedLine">Sélectionner</span></button>
          </h4>
          <ul class="mdl-menu mdl-js-menu mdl-js-ripple-effect" for="menu-lines">
            <li ng-repeat="line in selects.lineChoices" class="mdl-menu__item" ng-click="chooseLine(line)">
              {{line.from}}
              - {{line.to}}
            </li>
          </ul>
        </div>
        <div class="mdl-cell--5-col" ng-if="selects.selectedLine">
          <h4>Demande
            <button ng-click="toggleManual()" class="mdl-button mdl-js-button--raised">
              <span>Saisie manuelle</span>
            </button>
          </h4>
          <div>
            <span class="mdl-chip mdl-chip--contact">
              <span class="mdl-chip__contact mdl-color--teal mdl-color-text--white">E</span>
              <span class="mdl-chip__text">{{selects.selectedLine.demand.eco}} pax</span>
            </span>
            <span class="mdl-chip mdl-chip--contact">
              <span class="mdl-chip__contact mdl-color--teal mdl-color-text--white">B</span>
              <span class="mdl-chip__text">{{selects.selectedLine.demand.business}} pax</span>
            </span>
            <span class="mdl-chip mdl-chip--contact">
              <span class="mdl-chip__contact mdl-color--teal mdl-color-text--white">F</span>
              <span class="mdl-chip__text">{{selects.selectedLine.demand.first}} pax</span>
            </span>
            <span class="mdl-chip mdl-chip--contact">
              <span class="mdl-chip__contact mdl-color--teal mdl-color-text--white">C</span>
              <span class="mdl-chip__text">{{selects.selectedLine.demand.cargo}} T</span>
            </span>
          </div>
          <div ng-if="selects.manualInput">
            <form>
              <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-cell--4-col is-focused">
                <input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" id="input-eco"
                       ng-model="selects.selectedLine.demand.eco">
                <label class="mdl-textfield__label" for="input-eco">Éco</label>
                <span class="mdl-textfield__error">Input is not a number!</span>
              </div>
              <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-cell--4-col is-focused">
                <input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" id="input-business"
                       ng-model="selects.selectedLine.demand.business">
                <label class="mdl-textfield__label"
                       for="input-business">Business</label>
                <span class="mdl-textfield__error">Input is not a number!</span>
              </div>
              <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-cell--4-col is-focused">
                <input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" id="input-first"
                       ng-model="selects.selectedLine.demand.first">
                <label class="mdl-textfield__label" for="input-first">First</label>
                <span class="mdl-textfield__error">Input is not a number!</span>
              </div>
              <button id="btn-ok" class="mdl-button mdl-js-button--raised" ng-click="getAllOptis()">Ok</button>
              <button id="btn-reset" class="mdl-button mdl-js-button--raised" ng-click="reset()">Reset</button>
            </form>
          </div>
        </div>
        <div class="mdl-cell--4-col">
          <h4>
            <span>Générateur de nom</span>
            <button id="menu-hubs" class="mdl-button mdl-js-ripple-effect mdl-js-button--raised">
              <span ng-if="selects.selectedHub">{{selects.selectedHub.code}}</span>
              <span ng-if="!selects.selectedHub">Sélectionner</span></button>
          </h4>
          <div>
            <span>{{results.planeName}}</span>
          </div>
          <ul class="mdl-menu mdl-js-menu mdl-js-ripple-effect" for="menu-hubs">
            <li ng-repeat="hub in selects.hubChoices" class="mdl-menu__item" ng-click="chooseHub(hub)">
              {{hub.code}}
            </li>
          </ul>
        </div>
      </div> <!-- End of first row -->

      <!-- Second row -->
      <div class="mdl-grid">
        <div class="mdl-cell--3-col">
          <h4>Avions affectés</h4>
          <h6 ng-if="!selects.selectedLine"><i>Aucune ligne sélectionnée</i></h6>
          <h6 ng-if="selects.selectedLine && selects.selectedLine.planes == 0"><i>Aucun avion affecté</i></h6>
          <button ng-repeat="plane in selects.selectedLine.planes" id="lineplane-{{plane.name}}"
                  ng-class="getPlaneClass(plane)"
                  ng-click="choosePlane(plane)">
            {{plane.name}}
            <i class="material-icons" ng-if="plane.config.cargo != undefined">done</i>
            <span for="lineplane-{{plane.name}}" class="mdl-tooltip">{{plane.type}}</span>
          </button>
        </div>

        <div class="mdl-cell--6-col">
          <h4>Avions compatibles</h4>
          <h6 ng-if="!selects.selectedLine"><i>Aucune ligne sélectionnée</i></h6>
          <h6 ng-if="selects.selectedLine && results.optiPlanes.length == 0"><i>Aucun autre avion compatible</i>
          </h6>
          <button ng-repeat="plane in results.optiPlanes" id="optiplane-{{plane.name}}"
                  class="mdl-button mdl-js-button mdl-js-ripple-effect" type="button"
                  ng-click="choosePlane(plane)">{{plane.name}}
            <span for="optiplane-{{plane.name}}" class="mdl-tooltip">{{plane.type}}</span>
          </button>
        </div>

        <div class="mdl-cell--3-col">
          <h4>Lignes similaires</h4>
          <h6 ng-if="!selects.selectedLine"><i>Aucune ligne sélectionnée</i></h6>
          <h6 ng-if="selects.selectedLine && results.similarLines.length == 0"><i>Aucune ligne similaire</i></h6>
          <button ng-repeat="line in results.similarLines" class="mdl-button mdl-js-button mdl-js-ripple-effect"
                  type="button"
                  ng-click="chooseLine(line)">{{line.from}} - {{line.to}}
          </button>
        </div>
      </div> <!-- End of second row -->
    </div>

    <!-- Third row -->
    <div class="mdl-grid">
      <div class="mdl-cell--4-col">
        <h4> Détail d'un avion
          <button id="menu-planes" class="mdl-button mdl-js-button--raised">
            <span ng-if="selects.selectedPlane">{{selects.selectedPlane.name}}</span>
            <span ng-if="!selects.selectedPlane">Choisir l'appareil</span></button>
        </h4>
        <ul class="mdl-menu mdl-js-menu mdl-js-ripple-effect" for="menu-planes">
          <li ng-repeat="plane in selects.planeChoices" class="mdl-menu__item" ng-click="choosePlane(plane)">
            {{plane.name}}
          </li>
        </ul>
      </div>
      <div class="mdl-cell--8-col">
        <h4>Configurations optimales</h4>
        <h6 ng-if="!selects.selectedLine"><i>Aucune ligne sélectionnée</i></h6>
      </div>

      <div class="mdl-cell--4-col">

        <plane-view plane="selects.selectedPlane" line="selects.selectedLine"></plane-view>
      </div>

      <div class="mdl-cell--8-col">
        <line-configs line="selects.selectedLine"></line-configs>
      </div>
    </div> <!-- End of this row -->
  </main>
</div>
</body>
</html>